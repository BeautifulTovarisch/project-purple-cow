# Project Purple Cow

Proof of concept API for Fearless

## Overview

This application exposes a RESTful endpoint supporting operations on Items. Items are
persisted in a PostgreSQL database.

## Setup

Please ensure the following software is installed:

|Name|Version|
|Docker|20.0.0+|
|Docker Compose Plugin|2.0.0+|
|Node|19|
|Postgres|15|

> Note: Postgres only required if running database locally.
> Otherwise, configuration and setup of Postgres is outside the scope of this guide.

### Building

The application can be built locally the following command:

```bash
$ npm run build
```

The container image for the application can be build using:

```bash
$ docker compose build
```

### Running

Begin by spinning up the database container:

```bash
$ docker compose up -d database
```

> Note: If you need to reinitialize the database, see [teardown](#teardown).

This will initialize the database and begin accepting connections.

Next, the application can be started with:

```bash
$ docker compose up -d api
```

## Teardown

The complete stack may be torn down with:

```bash
$ docker compose down -v
```

> Note: The `-v` flag will remove docker volumes and remove all data stored in
> the database.

or individual services can be removed:

```bash
$ docker compose down database

$ docker compose down api
```

## Assumptions

- Connection to database required for application functionality
- No session information/application state required
- No authentication required in order to consume API
- No auditing, data exports etc. required

## Improvements

### Mise en Place

The following improvements deal with general features of production-ready applications:

- Error Handling is currently very raw
- Application not retrieving configuration from centralized service
- Application not retrieving connection information from service discovery
- Configurable database connection retries
- Autogenerated swagger docs
- Autogenerated library docs
- General container orchestration
- Database backups
- Proper application logging/CAL
- More robust functional/e2e testing

### API

These suggestions are specific to the API for items:

- Allow maximum # of items when retrieving all items
- Allow filtering on names when retrieving all items
- Item Searching
- Reconsider need for SetAll and DeleteAll functionality
- More sophisticated, well-structured API responses
